
generator client {
  provider   = "prisma-client-js"
  output     = "../.prisma/client"
  engineType = "binary"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

model node {
  nodeID    String  @id
  xcoord    Int
  ycoord    Int
  floor     String
  building  String
  nodeType  String
  longName  String
  shortName String
  edges     String
  blocked   Boolean @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime?
}

model edge {
  edgeID      String @id
  startNodeID String
  endNodeID   String
  createdAt DateTime @default(now())
  updatedAt DateTime?
}

model path {
  uniqueID    Int    @id @default(autoincrement())
  startNodeID String
  endNodeID   String
  createdAt DateTime @default(now())
  //empId Int @default(1)
  //employee employee @relation(fields: [empId], references: [ID])
}

model employee {
  employeeID     Int      @default(autoincrement())
  created_at String @id
  email String
  name String
  //lastname
  familyName String?
  birthdate String?
  phone_number String? @unique
  position  String?
  admin Boolean @default(false)
  createdAt DateTime @default(now())
}

model service {
  // normal service inputs
  location String
  status String
  priority String
  date DateTime @default(now())

  // track when it was created or changed
  createdAt DateTime @default(now())
  updatedAt DateTime?

  //relation to specific service details
  serviceType String @map("flower", "gift")
  serviceId     Int @id
  service       service  @relation(fields: [serviceId], references: [servId])

  // employee relation
  empId Int
  employee employee @relation(fields: [empId], references: [employeeID])
}


model flower {
  servId          Int      @id @default(autoincrement())
  patientName String
  senderName  String
  cardMessage String
  flowerType  String
}

model gift {
  servId            Int    @id @default(autoincrement())
  recipientName String
  message       String
  giftSize      String
  wrapping      String
}

model interpreter {
  servId             Int    @id @default(autoincrement())
  clientName     String
  language       String
  duration       String
  additionalInfo String
}

model security {
  servId               Int     @id @default(autoincrement())
  priority      String
  requestType      String
  alertAuthorities Boolean
}

model medicine {
  servId               Int      @id @default(autoincrement())
  patientName      String
  patientCondition String
  drugName         String
  drugQuantity     String
}

model sanitation {
  id             Int    @id @default(autoincrement())
  patientName    String
  serviceType    String
  additionalInfo String
}

model roomschedule {
  id           Int    @id @default(autoincrement())
  serviceType  String
  startTime    String
  endTime      String
}

model medicaldevice {
  id             Int     @id @default(autoincrement())
  selectedDevice String
  withBalloons   Boolean
}
